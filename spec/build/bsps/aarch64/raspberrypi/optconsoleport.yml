SPDX-License-Identifier: CC-BY-SA-4.0 OR BSD-2-Clause
copyrights:
  - Copyright (C) 2023 Utkarsh Verma

type: build
enabled-by: true

build-type: option
name: BSP_CONSOLE_PORT
description: Default UART port for the console device.

actions:
  - get-string: null
  - define-unquoted: null
  - script: |
      uarts = {
        "raspberrypi4b": ["UART0", "UART1", "UART2", "UART3", "UART4", "UART5"]
      }

      bsp_base = conf.get_env()["BSP_BASE"]
      bsp_uarts = uarts[bsp_base]
      if value not in bsp_uarts:
        conf.fatal("{} is not one of {}".format(value, bsp_uarts))

default:
  - enabled-by:
      - aarch64/raspberrypi4b
    value: UART1

format: '{}'
links: []
